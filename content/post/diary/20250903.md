---
title: "20250903"
description: 
date: 2025-09-03T09:30:40+08:00
comments: true
draft: false
tags: ["diary"]
---
0246睡到0921，今天是`中国抗日战争胜利纪念日`，也是`世界反法西斯战争胜利纪念日`。

因为有了别人的pr，[杀猪脚本](https://github.com/xxfttkx/StarResonanceAutoHunt)也算是有了大改进，现在就算服务器卡也能自动化杀猪了，在考虑要不要跟着[StarResonanceAutoMod](https://github.com/fudiyangjin/StarResonanceAutoMod)把抓包模块移植到python，就不用使用那么重的dps检测脚本了。

看不懂[StarResonanceAutoMod](https://github.com/fudiyangjin/StarResonanceAutoMod)的包处理，它的`BlueProtobuf_pb2.py`里有`SyncContainerData`却没有`SyncNearEntities`；[BlueProtobuf_pb.js](https://raw.githubusercontent.com/dmlgzs/StarResonanceDamageCounter/refs/heads/master/algo/BlueProtobuf_pb.js)是有`SyncNearEntities`的。先看看[StarResonanceDamageCounter](https://github.com/dmlgzs/StarResonanceDamageCounter)的识别服务器抓包处理包吧。但这个真的好重，处理了太多包了，看着好累。

┌──────────────────────┐
│ 监听网络接口抓包     │
│ (使用 cap / Npcap)   │
└─────────┬────────────┘
          │
          ▼
├── 判断是否来自游戏服务器 ──┐
│ (IP / 端口)                │
└──────┬─────────────────────┘
       │
       ▼
┌─── 提取 payload 字节数据 ───────────────────┐
│  (先不解析结构，只识别类型)                │
│  检查包类型：例如 SyncContainerData 或 SyncNearEntities 等  │
│                                          │
│  如果不是关注类型，就丢弃               │
└───┬────────────────────────────────────────┘
     │
     ▼
┌── 进行专门处理逻辑（当你需要时）         │
│ （比如解析 HP 或实体位置等）             │
└───────────────────────────────────────────┘

可以先识别包然后不处理，唉，明天再说了。

看代码给我看出问题，提完[issue](https://github.com/fudiyangjin/StarResonanceAutoMod/issues/11)睡觉，明天再看看怎么处理`SyncNearEntities`；明天还有mujica联动；扣背上的包扣出好多血。
