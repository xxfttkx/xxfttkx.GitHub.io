---
title: "20251031"
description: 
date: 2025-10-31T09:51:43+08:00
comments: true
draft: false
tags: ["diary"]
---
0119睡到0828，0951起，饿到起来吃东西，今天又降温了。话说今天是万圣节，和游戏里认识的人类调情时我才想起来。国内游戏不怎么过万圣节，明明很清楚的记得过节的日子是10月最后一天，但当日子真的来临时却没能意识到。

昨天打游戏时手柄时不时断连，发现是xbox的type-c接口有点松了，估计是我摔太多次了，想用[BetterJoy](https://github.com/Davidobot/BetterJoy)来把ns手柄映射成xbox结果提示`无法启动 VigemBus”错误`，去看了看[ViGEmBus](https://github.com/nefarius/ViGEmBus/releases)发现`This repository was archived by the owner on Nov 3, 2023. It is now read-only.`，对停止更新的东西没有什么欲望。懒得试了，买5号电池了。

之间从别人项目改改代码，写了个[星痕共鸣钓鱼脚本](https://github.com/xxfttkx/auto_fish)，用cli的，体验到了不用写框架只用写逻辑的爽感；后来别人做了个[gui钓鱼](https://github.com/Sanheiii/ok-star-resonance)，听说效果很好但也一直懒得试。

快递买的电池一天就到了，xbox放电池要看正负面的，我以前都不会看。

* **带弹簧的那一端是负极（−）**
* **平面的金属片那一端是正极（+）**

* 电池的 **凸起的一端（+）** 要对着平面金属片。
* 电池的 **平的一端（−）** 要顶在弹簧那边。

b站手机端的lol比赛加了实时竞猜模块，感觉这个能加强代入感，有种我也在比赛中的感觉。

クルスタ的总力战打起来太累了，点错一步就得重开所以就算机械化的操作也得全神贯注，打完猛喝一大瓶水。排名进了25%，可惜只有10%的奖励里有头像框，凹不动了就这样吧。

明日明日方舟又可猛猛抽卡。看nga二重螺旋板块有人讲二游抽卡>>游戏本体，挺感慨的。

```
all_windows = gw.getAllWindows()
for w in all_windows:
    if w.title == '二重螺旋':
        log("成功获取目标窗口: " + w.title)
```

无法成功获取，但我没有if时输出了`[23:41:07] 成功获取目标窗口: 二重螺旋`，为什么。

> 含有不可见字符

用`log(f"窗口标题 repr: {repr(w.title)}")`发现`[23:44:15] 窗口标题 repr: '二重螺旋  '`。怎么这么恶俗。。

写了二重螺旋的自动战斗脚本，今晚睡觉挂二重螺旋而不是星痕共鸣了。>_<

```
def log(msg):
    """带时间前缀的打印函数，并自动写入按日期命名的日志文件"""
    now = datetime.now()
    time_prefix = now.strftime("[%H:%M:%S]")
    filename = now.strftime("log_%Y_%m_%d.txt")  # 例: log_2025_10_31.txt
    line = f"{time_prefix} {msg}"
    # 控制台输出
    print(line)
    # 写入文件（追加）
    with open(filename, "a", encoding="utf-8") as f:
        f.write(line + "\n")
```

发现log写进文件的重要性。方便事后追责。

> 可以改成全局打开一次文件句柄或使用缓存写入
> 
> 添加日志级别
> 
> 用 Path 确保日志目录存在

明天再看了，不过就算改了使用全局句柄带来的收益我也看不出来。
