---
title: "20260108"
description: 
date: 2026-01-08T17:02:20+08:00
comments: true
draft: false
tags: ["diary"]
---
0147睡到0901，该早睡的。昨天写的杀戮尖塔boss战后能拿取多个遗物的mod有bug，boss遗物会和初始遗物有冲突，很奇怪，该去多看看源码了。

没读明白逻辑但发现之前错误了，改改能用但保不齐会出意外，在想要不要上传创意工坊。

是`OverlayMenu`的`update`通过`spawnRelicAndObtain`来处理获取遗物，所以这部分不需要Patch，只要鼠标点了应该就能正常获取遗物；所以只需要Patch `BossRelicSelectScreen.relicObtainLogic`，让它不要在获取遗物后关闭选择遗物窗口；但问题是有的遗物会打开新的窗口，例如让你获取5张卡，这种情况不想改，感觉要动太多东西了。所以

```
⚠️UI limitation:
If a boss relic triggers an additional selection screen (e.g. card choice),
the boss relic selection screen may close and cannot be reopened.
This is due to how the base game handles screen transitions.
```

描述加个警告然后上传得了。

明天再说喵明天再说喵🐾。
