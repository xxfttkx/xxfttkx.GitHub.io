---
title: "20250808"
description: 
date: 2025-08-08T08:52:58+08:00
comments: true
draft: false
tags: ["diary"]
---
0212睡到0846，后悔憋尿。

神奇生物刷不出皮肤，写了个[脚本](https://github.com/xxfttkx/StarResonanceAutoHunt)来切换线路以减少心智负担，但还是麻烦，想全自动得去看抓包了，深入学习[server.js](https://github.com/dmlgzs/StarResonanceDamageCounter/blob/master/server.js)，太深遂了。

我无法自己处理收到的包和解析包，直接用他处理过得到的数据吧。通过判断有没有人对神奇生物造成伤害来判断当前线还有没有神奇生物，理论应该还算行。

> 用 socket.io 实现的 WebSocket 服务不是标准的原生 WebSocket。websockets Python 库是标准 WebSocket 客户端，不兼容 socket.io 协议。

很坏

```
    setInterval(() => {
        if (!isPaused) {
            const userData = userDataManager.getAllUsersData();
            const data = {
                code: 0,
                user: userData,
            };
            io.emit('data', data);
        }
    }, 50);
```

他服务端客户端写一起的，只有广播这个东西，是方便给别人做ui的，唉。

其实也还好，多判断几个玩家看看他们造成的伤害会不会个位数十位数的加，应该还算行。
