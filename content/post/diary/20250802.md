---
title: "20250802"
description: 
date: 2025-08-02T10:28:51+08:00
comments: true
draft: false
tags: ["diary"]
---
1028起，0313睡到1012，感觉像死了。

2350洗完澡，今天一天都在挂星痕共鸣钓鱼，边研究怎么写脚本能更稳定，想不到好方法，现在是检测rect中白色像素比例来判定鱼的位置，但钓鱼点可能会被景色遮挡，而且太阳光的白会影响鱼的位置。想不清楚，多挂会脚本的事，乱想也无法提升成功率早点放弃或许是正确的，就像星痕共鸣中时长两周的活动没必要在战力低的前几天去打。去看看flutter ListView滑动的卡顿怎么解决吧。

> 分块加载 / 虚拟分页

有点麻烦，感觉不是很有必要，不能在快速滑动的过程中不渲染中间项吗。

哎呀哎呀，很不想给一个`StatelessWidget`做分页，setstate要改成`StatefulWidget`呀，有什么能直接用的插件吗。

有的兄弟有的，[infinite_scroll_pagination](https://pub.dev/packages/infinite_scroll_pagination),[lazy_load_scrollview](https://pub.dev/packages/lazy_load_scrollview)。那么它们有什么区别呢。

用插件也麻烦，自己实现分页加载了。

不过分页加载往下滑的速度被限制了，快速往上滑动时还是会有卡顿。。要不然直接限制滑动速率得了。

flutter run的效率还和debug模式不一样，我真怕我优化了个寂寞。

限制滑动速率的UI表现很丑，但我找不到好的解决卡顿的方法。

还是看看能不能不渲染中间项吧，这个如果能实现表现会是最自然的。

发现其实固定`itemExtent: 30`就能极大提升性能，10000项快快的滑都不卡，不知道原理。
